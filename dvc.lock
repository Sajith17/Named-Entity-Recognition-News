schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/named_entity_recognition/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 38cf2b36eb46caa685872777ca2c356e
      size: 1009
    - path: src/named_entity_recognition/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 2995d23d56c874c3f88b2930ded549c1
      size: 892
    outs:
    - path: artifacts/data_ingestion/conll2003
      hash: md5
      md5: ac33438e9e0c0d675bf676d8c6af7c03.dir
      size: 10287467
      nfiles: 10
  embedding_preparation:
    cmd: python src/named_entity_recognition/pipeline/stage_02_embedding_preparation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 38cf2b36eb46caa685872777ca2c356e
      size: 1009
    - path: src/named_entity_recognition/pipeline/stage_02_embedding_preparation.py
      hash: md5
      md5: d43b531f48e8090da35dc6f91671be59
      size: 1153
    params:
      params.yaml:
        EMBEDDING_DIM: 100
    outs:
    - path: artifacts/embedding_preparation/embedding_weights.pickle
      hash: md5
      md5: 285e2d9c13c541aee0db62e39d65a8d1
      size: 271440164
    - path: artifacts/embedding_preparation/glove.6B
      hash: md5
      md5: 530ebd4c897ead7b8c22a8a56c1c3d02.dir
      size: 2249862459
      nfiles: 4
    - path: artifacts/embedding_preparation/tokenizer.pickle
      hash: md5
      md5: ec11bc6aa8f5caad2c60861e860ff842
      size: 15317254
  data_transformation:
    cmd: python src/named_entity_recognition/pipeline/stage_03_data_transformation.py
    deps:
    - path: artifacts/embedding_preparation/tokenizer.pickle
      hash: md5
      md5: ec11bc6aa8f5caad2c60861e860ff842
      size: 15317254
    - path: config/config.yaml
      hash: md5
      md5: 38cf2b36eb46caa685872777ca2c356e
      size: 1009
    - path: src/named_entity_recognition/pipeline/stage_03_data_transformation.py
      hash: md5
      md5: 20dc3b5caa7094c7d93fa2f5c39824fa
      size: 941
    outs:
    - path: artifacts/data_transformation/conll2003
      hash: md5
      md5: 47209fb93a9a8982139185298bcf3bb5.dir
      size: 46047558
      nfiles: 10
  model_training:
    cmd: python src/named_entity_recognition/pipeline/stage_04_model_trainer.py
    deps:
    - path: artifacts/data_transformation/conll2003
      hash: md5
      md5: 47209fb93a9a8982139185298bcf3bb5.dir
      size: 46047558
      nfiles: 10
    - path: config/config.yaml
      hash: md5
      md5: 38cf2b36eb46caa685872777ca2c356e
      size: 1009
    - path: src/named_entity_recognition/pipeline/stage_04_model_trainer.py
      hash: md5
      md5: a90ec706a0faa7d3fa6f3b1503429d3c
      size: 898
    params:
      params.yaml:
        BATCH_SIZE: 64
        EMBEDDING_DIM: 100
        EPOCHS: 20
        FULLY_CONNECTED_DIM: 100
        MAX_POSITIONAL_ENCODING_LENGTH: 150
        NUM_ENCODER_LAYERS: 4
        NUM_HEADS: 4
    outs:
    - path: artifacts/model_trainer/model.keras
      hash: md5
      md5: 772725a7c52df3ca377922685cbac2b9
      size: 144792968
  model_evaluation:
    cmd: python src/named_entity_recognition/pipeline/stage_05_model_evaluation.py
    deps:
    - path: artifacts/data_transformation/conll2003
      hash: md5
      md5: 47209fb93a9a8982139185298bcf3bb5.dir
      size: 46047558
      nfiles: 10
    - path: artifacts/model_trainer/model.keras
      hash: md5
      md5: 772725a7c52df3ca377922685cbac2b9
      size: 144792968
    - path: config/config.yaml
      hash: md5
      md5: 38cf2b36eb46caa685872777ca2c356e
      size: 1009
    - path: src/named_entity_recognition/pipeline/stage_05_model_evaluation.py
      hash: md5
      md5: 2402905928cb09d9b7f90ef0331d3b50
      size: 974
    params:
      params.yaml:
        BATCH_SIZE: 64
    outs:
    - path: artifacts\model_evaluation\scores.json
      hash: md5
      md5: 31b26375f29a70da718497282dcd5926
      size: 183
